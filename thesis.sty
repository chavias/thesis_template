% =============================
%         
% ============================+
\usepackage{lipsum}

% =============================
%        FONT & ENCODING
% =============================
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{lmodern}  % Improved font rendering
\usepackage{helvet}   % Sans-serif font

% =============================
%        LANGUAGE & QUOTES
% =============================
\usepackage[english]{babel}
\usepackage{csquotes}

% =============================
%        MATHEMATICS
% =============================
\usepackage{amsmath, amssymb, mathtools, mathrsfs, dsfont, exscale}

% =============================
%        GRAPHICS & FIGURES
% =============================
\usepackage{graphicx, svg, epstopdf, epsf, tikz}
\usetikzlibrary{patterns,decorations}
\usepackage{caption}
\captionsetup[figure]{format=plain, labelsep=space, font={footnotesize},
    labelfont={bf,footnotesize}, singlelinecheck=true, position=bottom,
    justification=justified, margin=10pt}
\captionsetup[table]{format=plain, labelsep=space, font={footnotesize},
    labelfont={bf,footnotesize}, singlelinecheck=true, position=bottom,
    justification=justified, margin=10pt}

% =============================
%        TABLES
% =============================
\usepackage{booktabs, multirow, tabu, tabularx, longtable}
\usepackage{rotating, lscape}  % Rotate tables & landscape mode

% =============================
%        CODE LISTINGS
% =============================
\usepackage[numbered,framed]{matlab-prettifier} % For MATLAB code formatting
% \usepackage{minted}  % Uncomment for better code highlighting

% =============================
%        REFERENCES & LINKS
% =============================
\usepackage{hyperref}
\hypersetup{
    colorlinks=true,
    linkcolor={red!60!black},
    citecolor={blue!40!black},
    urlcolor={blue!80!black}
}
\usepackage{url}

% =============================
%        LISTS & ENUMERATION
% =============================
\usepackage{enumerate, placeins, afterpage}
\setcounter{tocdepth}{3}	% includes down to subsection
\setcounter{secnumdepth}{3}


% =============================
%        NOMENCLATURE
% =============================
\usepackage{nomencl}
\makenomenclature
\renewcommand{\nomname}{Abbreviations}

% =============================
%        PAGE LAYOUT
% =============================
\usepackage{fancyhdr} % Nicer headers
\usepackage{quotchap} % Fancy chapter headings
\usepackage{setspace} % Line spacing
\usepackage{parskip}  % No indentation
\usepackage{geometry} % Page layout
\setlength{\oddsidemargin}{0.65cm}
\setlength{\evensidemargin}{-0.65cm}
\setcounter{tocdepth}{3}   % Includes down to subsection
\setcounter{secnumdepth}{3} % Numbering down to subsection
\pagestyle{fancy}     % muss vor \renewcommand{\sectionmark} stehen
\fancyhf{}
\fancyhead[EL]{\thepage}  % even pages, left
\fancyhead[ER]{\leftmark} % even pages, right
\fancyhead[OL]{\rightmark}% odd pages, left
\fancyhead[OR]{\thepage}  % odd pages, right
\renewcommand{\chaptermark}[1]{
\markboth{\thechapter{} #1}{}
}
\renewcommand{\sectionmark}[1]{
\markright{\thesection{} #1}
}

% =============================
%        TWEAKS & FIXES
% =============================
\usepackage{microtype} % Improves spacing
\clubpenalty = 10000
\widowpenalty = 10000
\displaywidowpenalty = 10000
\raggedbottom % Prevents excessive white space

% =============================
%        CUSTOM COMMANDS
% =============================
\newcommand{\undertilde}[1]{\mathord{\vtop{\ialign{##\crcr
    $\hfil\displaystyle{#1}\hfil$\crcr
    \noalign{\kern1.5pt\nointerlineskip}
    $\hfil\tilde{}\hfil$\crcr
    \noalign{\kern1.5pt}}}}}